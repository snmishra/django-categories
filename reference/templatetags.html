
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Template tags and filters &#8212; Django Categories 1.8 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Settings" href="settings.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="template-tags-and-filters">
<h1>Template tags and filters<a class="headerlink" href="#template-tags-and-filters" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#filters" id="id2">Filters</a></p>
<ul>
<li><p><a class="reference internal" href="#category-path" id="id3"><code class="docutils literal notranslate"><span class="pre">category_path</span></code></a></p></li>
<li><p><a class="reference internal" href="#tree-info" id="id4"><code class="docutils literal notranslate"><span class="pre">tree_info</span></code></a></p></li>
<li><p><a class="reference internal" href="#tree-queryset" id="id5"><code class="docutils literal notranslate"><span class="pre">tree_queryset</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#inclusion-tags" id="id6">Inclusion tags</a></p>
<ul>
<li><p><a class="reference internal" href="#display-path-as-ul" id="id7"><code class="docutils literal notranslate"><span class="pre">display_path_as_ul</span></code></a></p></li>
<li><p><a class="reference internal" href="#display-drilldown-as-ul" id="id8"><code class="docutils literal notranslate"><span class="pre">display_drilldown_as_ul</span></code></a></p></li>
<li><p><a class="reference internal" href="#breadcrumbs-tag" id="id9"><code class="docutils literal notranslate"><span class="pre">breadcrumbs</span> <span class="pre">tag</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#template-tags" id="id10">Template Tags</a></p>
<ul>
<li><p><a class="reference internal" href="#get-top-level-categories" id="id11"><code class="docutils literal notranslate"><span class="pre">get_top_level_categories</span></code></a></p></li>
<li><p><a class="reference internal" href="#get-category-drilldown" id="id12"><code class="docutils literal notranslate"><span class="pre">get_category_drilldown</span></code></a></p></li>
<li><p><a class="reference internal" href="#recursetree" id="id13"><code class="docutils literal notranslate"><span class="pre">recursetree</span></code></a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="filters">
<h2><a class="toc-backref" href="#contents">Filters</a><a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="category-path">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">category_path</span></code></a><a class="headerlink" href="#category-path" title="Permalink to this headline">¶</a></h3>
<p><strong>Optional Parameter:</strong> separator string. <em>Default:</em> <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">::</span> <span class="pre">&quot;</span></code></p>
<p>Creates a path represented by a categories by joining the items with a separator.</p>
<p>Each path item will be coerced to unicode, so you can pass a list of category instances, if required.</p>
<p><strong>Example using a list of categories:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">some_list</span><span class="o">|</span><span class="nf">category_path</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">some_list</span></code> is <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">&lt;Category:</span> <span class="pre">Country&gt;,</span> <span class="pre">&lt;Category:</span> <span class="pre">Country</span> <span class="pre">pop&gt;,</span> <span class="pre">&lt;Category:</span> <span class="pre">Urban</span> <span class="pre">Cowboy&gt;]</span></code> the result will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Country</span> <span class="p">::</span> <span class="n">Country</span> <span class="n">pop</span> <span class="p">::</span> <span class="n">Urban</span> <span class="n">Cowboy</span>
</pre></div>
</div>
<p><strong>Example using a category node and optional separator parameter:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">some_node.get_ancestors</span><span class="o">|</span><span class="nf">category_path</span><span class="s2">:&quot; &gt; &quot;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">some_node</span></code> was category “Urban Cowboy”, the result will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Country</span> <span class="o">&gt;</span> <span class="n">Country</span> <span class="n">pop</span> <span class="o">&gt;</span> <span class="n">Urban</span> <span class="n">Cowboy</span>
</pre></div>
</div>
</div>
<div class="section" id="tree-info">
<span id="id1"></span><h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">tree_info</span></code></a><a class="headerlink" href="#tree-info" title="Permalink to this headline">¶</a></h3>
<p><strong>Optional Parameter:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;ancestors&quot;</span></code></p>
<p>Given a list of categories, it iterates over the list, generating a tuple of the current category and a dict containing information about the tree structure around it, with the following keys:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'new_level'</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the current item is the start of a new level in the tree, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'closed_levels'</span></code></dt><dd><p>A list of levels which end after the current item. This will be an empty list if the next category’s level is the same as or greater than the level of the current item.</p>
</dd>
</dl>
<p>Provide the optional argument, <code class="docutils literal notranslate"><span class="pre">&quot;ancestors&quot;</span></code>, to add a list of unicode representations of the ancestors of the current category, in descending order (root node first, immediate parent last), under the key ‘ancestors’.</p>
<p>For example: given the sample tree below, the contents of the list which would be available under the ‘ancestors’ key are given on the right:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Country</span>             <span class="o">-&gt;</span>  <span class="p">[]</span>
   <span class="n">Country</span> <span class="n">pop</span>      <span class="o">-&gt;</span>  <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;Country pop&#39;</span><span class="p">]</span>
      <span class="n">Urban</span> <span class="n">Cowboy</span>  <span class="o">-&gt;</span>  <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Country pop&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Using this filter with unpacking in a {% for %} tag, you should have enough information about the tree structure to create a hierarchical representation of the tree.</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">node</span><span class="o">,</span><span class="nv">structure</span> <span class="k">in</span> <span class="nv">objects</span><span class="o">|</span><span class="nf">tree_info</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">structure.new_level</span> <span class="cp">%}</span><span class="x">&lt;ul&gt;&lt;li&gt;</span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x">&lt;/li&gt;&lt;li&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">node.name</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">level</span> <span class="k">in</span> <span class="nv">structure.closed_levels</span> <span class="cp">%}</span><span class="x">&lt;/li&gt;&lt;/ul&gt;</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="tree-queryset">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">tree_queryset</span></code></a><a class="headerlink" href="#tree-queryset" title="Permalink to this headline">¶</a></h3>
<p>Convert a regular category <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> into a new, ordered <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> that includes the categories selected and their ancestors.</p>
<p>This is especially helpful when you have a subset of categories and want to show the hierarchy for all the items.</p>
<p>For example, if we add it to the example for <a class="reference internal" href="#tree-info"><span class="std std-ref">tree_info</span></a>:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">node</span><span class="o">,</span><span class="nv">structure</span> <span class="k">in</span> <span class="nv">objects</span><span class="o">|</span><span class="nf">tree_queryset</span><span class="o">|</span><span class="nf">tree_info</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">structure.new_level</span> <span class="cp">%}</span><span class="x">&lt;ul&gt;&lt;li&gt;</span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x">&lt;/li&gt;&lt;li&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">node.name</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">level</span> <span class="k">in</span> <span class="nv">structure.closed_levels</span> <span class="cp">%}</span><span class="x">&lt;/li&gt;&lt;/ul&gt;</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>A list of unrelated categories such as <code class="docutils literal notranslate"><span class="pre">[&lt;Category:</span> <span class="pre">Urban</span> <span class="pre">cowboy&gt;,</span> <span class="pre">&lt;Category:</span> <span class="pre">Urban</span> <span class="pre">comtemporary&gt;]</span></code>, the above template example will output the two categories and their ancestors:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
Country
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
Country pop
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
Urban cowboy
<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
Rhythm and blues
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
Urban contemporary
<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Categories that have similar ancestors are grouped accordingly. There is no duplication of the ancestor tree.</p>
</div>
</div>
</div>
<div class="section" id="inclusion-tags">
<h2><a class="toc-backref" href="#contents">Inclusion tags</a><a class="headerlink" href="#inclusion-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="display-path-as-ul">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">display_path_as_ul</span></code></a><a class="headerlink" href="#display-path-as-ul" title="Permalink to this headline">¶</a></h3>
<p><strong>Template Rendered:</strong> <code class="docutils literal notranslate"><span class="pre">categories/ul_tree.html</span></code></p>
<p><strong>Syntax 1:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">display_path_as_ul</span> <span class="pre">&lt;category_obj&gt;</span> <span class="pre">%}</span></code></p>
<p><strong>Syntax 2:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">display_path_as_ul</span> <span class="pre">&lt;path_string&gt;[</span> <span class="pre">using=&quot;app.Model&quot;]</span> <span class="pre">%}</span></code></p>
<p>Render the category with ancestors, but no children.</p>
<p>Pass either an object that subclasses <a class="reference internal" href="models.html#CategoryBase" title="CategoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoryBase</span></code></a> or a path string for the category. Add <code class="docutils literal notranslate"><span class="pre">using=&quot;app.Model&quot;</span></code> to specify which model when using a path string. The default model used is <a class="reference internal" href="models.html#Category" title="Category"><code class="xref py py-class docutils literal notranslate"><span class="pre">Category</span></code></a>.</p>
<p><strong>Example, using Category model:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">display_path_as_ul</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><strong>Example, using custom model:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">display_path_as_ul</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="nv">using</span><span class="o">=</span><span class="s2">&quot;coolapp.MusicGenre&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><strong>Example, using an object:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">display_path_as_ul</span> <span class="nv">category_obj</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/&quot;</span><span class="p">&gt;</span>Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/&quot;</span><span class="p">&gt;</span>Grandparent<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="display-drilldown-as-ul">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">display_drilldown_as_ul</span></code></a><a class="headerlink" href="#display-drilldown-as-ul" title="Permalink to this headline">¶</a></h3>
<p><strong>Template rendered:</strong> <code class="docutils literal notranslate"><span class="pre">categories/ul_tree.html</span></code></p>
<p><strong>Syntax 1:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">display_drilldown_as_ul</span> <span class="pre">category_obj</span> <span class="pre">%}</span></code></p>
<p><strong>Syntax 2:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">display_drilldown_as_ul</span> <span class="pre">&quot;/Grandparent/Parent&quot;</span> <span class="pre">[using=&quot;app.Model&quot;]</span> <span class="pre">%}</span></code></p>
<p>Render the category with ancestors and children.</p>
<p><strong>Example, using Category model:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">display_drilldown_as_ul</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><strong>Example, using custom model:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">display_drilldown_as_ul</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="nv">using</span><span class="o">=</span><span class="s2">&quot;coolapp.MusicGenre&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><strong>Example, using an object:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">display_drilldown_as_ul</span> <span class="nv">category_obj</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/&quot;</span><span class="p">&gt;</span>Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/&quot;</span><span class="p">&gt;</span>Grandparent<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/parent/&quot;</span><span class="p">&gt;</span>Parent<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/parent/child1&quot;</span><span class="p">&gt;</span>Child1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/parent/child2&quot;</span><span class="p">&gt;</span>Child2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/parent/child3&quot;</span><span class="p">&gt;</span>Child3<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="breadcrumbs-tag">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">breadcrumbs</span> <span class="pre">tag</span></code></a><a class="headerlink" href="#breadcrumbs-tag" title="Permalink to this headline">¶</a></h3>
<p><strong>Template rendered:</strong> <code class="docutils literal notranslate"><span class="pre">categories/breadcrumbs.html</span></code></p>
<p><strong>Syntax 1:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">breadcrumbs</span> <span class="pre">category_obj</span> <span class="pre">[separator=&quot;</span> <span class="pre">::</span> <span class="pre">&quot;]</span> <span class="pre">%}</span></code></p>
<p><strong>Syntax 2:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">breadcrumbs</span> <span class="pre">&quot;/Grandparent/Parent&quot;</span> <span class="pre">[separator=&quot;</span> <span class="pre">::</span> <span class="pre">&quot;]</span> <span class="pre">[using=&quot;app.Model&quot;]</span> <span class="pre">%}</span></code></p>
<p>Render breadcrumbs for the given path using <code class="docutils literal notranslate"><span class="pre">::</span></code> or the given separator.</p>
<p><strong>Example using Category model:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">breadcrumbs</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><strong>Example using a custom model:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">breadcrumbs</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="nv">using</span><span class="o">=</span><span class="s2">&quot;coolapp.MusicGenre&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><strong>Example using an object:</strong></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">breadcrumbs</span> <span class="nv">category_obj</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/&quot;</span><span class="p">&gt;</span>Grandparent<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> / Parent
</pre></div>
</div>
<p>You can alter the separator used in the template by adding a separator argument:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">breadcrumbs</span> <span class="nv">category_obj</span> <span class="nv">separator</span><span class="o">=</span><span class="s2">&quot; &amp;gt; &quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/categories/grandparent/&quot;</span><span class="p">&gt;</span>Grandparent<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="ni">&amp;gt;</span> Parent
</pre></div>
</div>
</div>
</div>
<div class="section" id="template-tags">
<h2><a class="toc-backref" href="#contents">Template Tags</a><a class="headerlink" href="#template-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-top-level-categories">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">get_top_level_categories</span></code></a><a class="headerlink" href="#get-top-level-categories" title="Permalink to this headline">¶</a></h3>
<p>Retrieves an alphabetical list of all the categories that have no parents.</p>
<p>Syntax:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">get_top_level_categories</span> <span class="o">[</span><span class="nv">using</span> <span class="s2">&quot;app.Model&quot;</span><span class="o">]</span> <span class="k">as</span> <span class="nv">categories</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Returns an list of categories <code class="docutils literal notranslate"><span class="pre">[&lt;category&gt;,</span> <span class="pre">&lt;category&gt;,</span> <span class="pre">&lt;category,</span> <span class="pre">...]</span></code></p>
</div>
<div class="section" id="get-category-drilldown">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">get_category_drilldown</span></code></a><a class="headerlink" href="#get-category-drilldown" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax 1:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">get_category_drilldown</span> <span class="pre">&lt;path_string&gt;</span> <span class="pre">[using</span> <span class="pre">&quot;app.Model&quot;]</span> <span class="pre">as</span> <span class="pre">&lt;varname&gt;</span> <span class="pre">%}</span></code></p>
<p><strong>Syntax 2:</strong> <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">get_category_drilldown</span> <span class="pre">&lt;object&gt;</span> <span class="pre">as</span> <span class="pre">&lt;varname&gt;</span> <span class="pre">%}</span></code></p>
<p>Retrieves the specified category, its ancestors and its immediate children as an iterable. Syntax 1 allows for the retrieval of the category object via a slash-delimited path. The optional <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">&quot;app.Model&quot;</span></code> allows you to specify from which model to retrieve the object.</p>
<p>Example:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">get_category_drilldown</span> <span class="s2">&quot;/Grandparent/Parent&quot;</span> <span class="nv">using</span> <span class="s2">&quot;family.Member&quot;</span> <span class="k">as</span> <span class="nv">family</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The second syntax uses an instance of any object that subclasses <a class="reference internal" href="models.html#CategoryBase" title="CategoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoryBase</span></code></a></p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">get_category_drilldown</span> <span class="nv">category_obj</span> <span class="k">as</span> <span class="nv">family</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Both examples sets <code class="docutils literal notranslate"><span class="pre">family</span></code> to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Grandparent</span><span class="p">,</span> <span class="n">Parent</span><span class="p">,</span> <span class="n">Child</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Child</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Child</span> <span class="n">n</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="recursetree">
<h3><a class="toc-backref" href="#contents"><code class="docutils literal notranslate"><span class="pre">recursetree</span></code></a><a class="headerlink" href="#recursetree" title="Permalink to this headline">¶</a></h3>
<p>This tag renders a section of your template recursively for each node in your
tree.</p>
<p>For example:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;ul class=&quot;root&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">recursetree</span> <span class="nv">nodes</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;li&gt;</span>
<span class="x">            </span><span class="cp">{{</span> <span class="nv">node.name</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">node.is_leaf_node</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                &lt;ul class=&quot;children&quot;&gt;</span>
<span class="x">                    </span><span class="cp">{{</span> <span class="nv">children</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">                &lt;/ul&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endrecursetree</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Note the special variables <code class="docutils literal notranslate"><span class="pre">node</span></code> and <code class="docutils literal notranslate"><span class="pre">children</span></code>.
These are magically inserted into your context while you’re inside the
<code class="docutils literal notranslate"><span class="pre">recursetree</span></code> tag.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">node</span></code> is an instance of your MPTT model.</p>
<p><code class="docutils literal notranslate"><span class="pre">children</span></code> : This variable holds the rendered HTML for the children of
<code class="docutils literal notranslate"><span class="pre">node</span></code>.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you already have variables called <code class="docutils literal notranslate"><span class="pre">node</span></code> or <code class="docutils literal notranslate"><span class="pre">children</span></code> in your
template, and you need to access them inside the <code class="docutils literal notranslate"><span class="pre">recursetree</span></code> block,
you’ll need to alias them to some other name first:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">with</span> <span class="nv">node</span> <span class="k">as</span> <span class="nv">friendly_node</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">recursetree</span> <span class="nv">nodes</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">node.name</span> <span class="cp">}}</span><span class="x"> is friends with </span><span class="cp">{{</span> <span class="nv">friendly_node.name</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">children</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endrecursetree</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endwith</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Django Categories</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Using categories in templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registering_models.html">Registering Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adding_the_fields.html">Adding the fields to the database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin_settings.html">Adding the fields to the Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../custom_categories.html">Creating Custom Categories</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="management_commands.html">Management Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Template tags and filters</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Reference</a><ul>
      <li>Previous: <a href="settings.html" title="previous chapter">Settings</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2010-2012, Corey Oordt.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/templatetags.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>